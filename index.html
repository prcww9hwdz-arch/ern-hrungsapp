<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>10-Wochen ErnÃ¤hrungsplan</title>
  <style>
    :root {
      --bg: #0f1115;
      --card: #181b22;
      --accent: #34c759;
      --accent-soft: rgba(52, 199, 89, 0.15);
      --text: #f5f5f5;
      --text-soft: #a0a4b8;
      --border: #2a2e3a;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 16px;
      font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", system-ui, sans-serif;
      background: radial-gradient(circle at top, #1b2230 0, #05060a 55%, #020308 100%);
      color: var(--text);
    }

    h1 {
      font-size: 22px;
      margin: 0 0 4px;
    }

    h2 {
      font-size: 18px;
      margin: 16px 0 8px;
    }

    p {
      margin: 4px 0;
      color: var(--text-soft);
      font-size: 14px;
    }

    .app-header {
      margin-bottom: 16px;
    }

    .badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      border-radius: 999px;
      font-size: 11px;
      background: var(--accent-soft);
      color: var(--accent);
    }

    .tabs {
      display: flex;
      gap: 8px;
      margin-bottom: 12px;
    }

    .tab {
      flex: 1;
      text-align: center;
      padding: 10px;
      border-radius: 999px;
      font-size: 13px;
      border: 1px solid var(--border);
      color: var(--text-soft);
      background: rgba(15,17,21,0.7);
    }

    .tab.active {
      border-color: var(--accent);
      color: var(--accent);
      background: var(--accent-soft);
    }

    .card {
      background: rgba(9, 11, 17, 0.92);
      border-radius: 16px;
      padding: 14px 14px 10px;
      border: 1px solid rgba(255,255,255,0.04);
      box-shadow: 0 16px 40px rgba(0,0,0,0.7);
      margin-bottom: 12px;
    }

    .row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
    }

    .row + .row {
      margin-top: 6px;
    }

    .select-row {
      display: flex;
      gap: 8px;
      margin: 8px 0 4px;
    }

    select {
      flex: 1;
      padding: 8px 10px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: rgba(10, 12, 18, 0.95);
      color: var(--text);
      font-size: 13px;
      outline: none;
      -webkit-appearance: none;
      appearance: none;
    }

    .chip {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      border-radius: 999px;
      background: rgba(255,255,255,0.03);
      padding: 4px 10px;
      font-size: 11px;
      color: var(--text-soft);
    }

    .chip strong {
      color: var(--accent);
      font-weight: 600;
    }

    .day-card {
      margin-top: 6px;
      padding-top: 8px;
      border-top: 1px solid rgba(255,255,255,0.04);
    }

    .day-title {
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 4px;
    }

    .meal {
      padding: 6px 0;
      border-bottom: 1px dashed rgba(255,255,255,0.06);
    }

    .meal:last-child {
      border-bottom: none;
    }

    .meal-header {
      display: flex;
      justify-content: space-between;
      font-size: 13px;
      margin-bottom: 2px;
    }

    .meal-type {
      color: var(--text-soft);
    }

    .meal-kcal {
      color: var(--accent);
      font-size: 12px;
    }

    .meal-title {
      font-size: 13px;
      font-weight: 500;
    }

    .meal-amount {
      font-size: 12px;
      color: var(--text-soft);
    }

    .day-summary {
      margin-top: 4px;
      font-size: 12px;
      color: var(--text-soft);
      display: flex;
      justify-content: space-between;
    }

    .day-summary strong {
      color: var(--accent);
    }

    .section-title-row {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
    }

    .section-title-row small {
      font-size: 11px;
      color: var(--text-soft);
    }

    .shopping-item {
      font-size: 12px;
      padding: 3px 0;
      border-bottom: 1px dashed rgba(255,255,255,0.05);
    }

    .shopping-item:last-child {
      border-bottom: none;
    }

    .weight-inputs input {
      width: 100%;
      margin-bottom: 6px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: rgba(10, 12, 18, 0.95);
      color: var(--text);
      padding: 7px 10px;
      font-size: 13px;
    }

    button {
      border: none;
      border-radius: 999px;
      background: linear-gradient(135deg, #34c759, #0ba84b);
      color: #fff;
      padding: 8px 14px;
      font-size: 13px;
      font-weight: 600;
      margin-top: 4px;
      cursor: pointer;
      width: 100%;
    }

    .weight-item {
      font-size: 12px;
      padding: 3px 0;
      border-bottom: 1px dashed rgba(255,255,255,0.06);
      color: var(--text-soft);
    }

    .weight-item:last-child {
      border-bottom: none;
    }

    @media (min-width: 768px) {
      body {
        max-width: 720px;
        margin: 0 auto;
      }
    }
  </style>
</head>
<body>
  <div class="app-header">
    <div class="badge">
      ðŸ¥— 10-Wochen Abnehmplan
    </div>
    <h1>Von 97 kg Richtung 90 kg</h1>
    <p>3 Mahlzeiten pro Tag Â· ca. 1.750â€“1.900 kcal/Tag Â· ohne Sportpflicht</p>
  </div>

  <div class="tabs">
    <div class="tab active" id="tab-plan" onclick="switchTab('plan')">Plan</div>
    <div class="tab" id="tab-shopping" onclick="switchTab('shopping')">Einkaufsliste</div>
    <div class="tab" id="tab-weight" onclick="switchTab('weight')">Gewicht</div>
  </div>

  <!-- PLAN -->
  <div id="view-plan">
    <div class="card">
      <div class="section-title-row">
        <h2>WochenÃ¼bersicht</h2>
        <small id="weekKcalLabel"></small>
      </div>
      <div class="select-row">
        <select id="weekSelect" onchange="renderWeek()"></select>
      </div>
      <p>Jede Woche hat 7 Tage mit 3 Mahlzeiten (FrÃ¼hstÃ¼ck, Mittag, Abendessen),
         inklusive Mengen & Kalorien. Die 10 Wochen verwenden denselben Wochenrhythmus.</p>
    </div>

    <div id="daysContainer"></div>
  </div>

  <!-- SHOPPING -->
  <div id="view-shopping" style="display:none;">
    <div class="card">
      <div class="section-title-row">
        <h2>Einkaufsliste Woche</h2>
        <small id="shoppingWeekLabel"></small>
      </div>
      <div class="select-row">
        <select id="shoppingWeekSelect" onchange="renderShopping()"></select>
      </div>
      <p>Richtwerte fÃ¼r eine Person Â· 1 Woche Â· 3 Mahlzeiten/Tag.</p>
    </div>
    <div class="card" id="shoppingList"></div>
  </div>

  <!-- WEIGHT -->
  <div id="view-weight" style="display:none;">
    <div class="card">
      <h2>Gewicht tracken</h2>
      <p>Starte bei 97 kg Â· Ziel ~90 kg in 10 Wochen.</p>
      <div class="weight-inputs">
        <input type="date" id="weightDate">
        <input type="number" step="0.1" id="weightNumber" placeholder="Gewicht in kg">
      </div>
      <button onclick="saveWeight()">Speichern</button>
    </div>
    <div class="card">
      <div class="section-title-row">
        <h2>Verlauf</h2>
        <small>lokal auf deinem GerÃ¤t gespeichert</small>
      </div>
      <div id="weightHistory"></div>
    </div>
  </div>

  <script>
    // -----------------------------
    // Daten: Basis-Woche (7 Tage)
    // -----------------------------

    const baseWeekDays = [
      {
        name: "Montag",
        meals: [
          {
            type: "FrÃ¼hstÃ¼ck",
            title: "Overnight Oats mit Beeren",
            amount: "60 g Haferflocken, 200 ml (Pflanzen-)Milch, 100 g Beeren, 10 g NÃ¼sse",
            kcal: 480
          },
          {
            type: "Mittag",
            title: "HÃ¤hnchen-Reis-Bowl",
            amount: "150 g HÃ¤hnchenbrust, 80 g Reis (roh), 150 g Brokkoli, 10 g Ã–l",
            kcal: 680
          },
          {
            type: "Abendessen",
            title: "Skyr mit Obst & NÃ¼ssen",
            amount: "250 g Skyr, 1 Apfel, 10 g NÃ¼sse",
            kcal: 420
          }
        ]
      },
      {
        name: "Dienstag",
        meals: [
          {
            type: "FrÃ¼hstÃ¼ck",
            title: "RÃ¼hrei & Vollkornbrot",
            amount: "2 Eier, 1 EiweiÃŸ, 2 Scheiben Vollkornbrot, Tomate/Gurke",
            kcal: 450
          },
          {
            type: "Mittag",
            title: "Vollkornnudeln mit Pesto & GemÃ¼se",
            amount: "80 g Vollkornnudeln (roh), 30 g Pesto, 150 g GemÃ¼se",
            kcal: 700
          },
          {
            type: "Abendessen",
            title: "GroÃŸer gemischter Salat mit Thunfisch",
            amount: "150 g gemischter Salat, 1 Dose Thunfisch in Wasser, 1 EL Ã–l",
            kcal: 420
          }
        ]
      },
      {
        name: "Mittwoch",
        meals: [
          {
            type: "FrÃ¼hstÃ¼ck",
            title: "Magerquark-Bowl",
            amount: "250 g Magerquark, 40 g Haferflocken, 100 g Beeren",
            kcal: 470
          },
          {
            type: "Mittag",
            title: "Reis-Chili Bowl",
            amount: "70 g Reis (roh), 150 g Rinderhack mager, Bohnen, Mais, Tomaten",
            kcal: 720
          },
          {
            type: "Abendessen",
            title: "Vollkornbrot mit Pute & GemÃ¼se",
            amount: "2 Scheiben Vollkornbrot, 60 g Putenbrustaufschnitt, GemÃ¼se",
            kcal: 380
          }
        ]
      },
      {
        name: "Donnerstag",
        meals: [
          {
            type: "FrÃ¼hstÃ¼ck",
            title: "Proteinshake + Banane",
            amount: "30 g Proteinpulver, 300 ml Wasser/Milch, 1 Banane",
            kcal: 350
          },
          {
            type: "Mittag",
            title: "Kartoffeln mit KrÃ¤uterquark",
            amount: "300 g Kartoffeln, 200 g Magerquark, KrÃ¤uter, 1 TL Ã–l",
            kcal: 650
          },
          {
            type: "Abendessen",
            title: "GemÃ¼sepfanne mit Ei",
            amount: "200 g gemischtes GemÃ¼se, 2 Eier, 1 TL Ã–l",
            kcal: 450
          }
        ]
      },
      {
        name: "Freitag",
        meals: [
          {
            type: "FrÃ¼hstÃ¼ck",
            title: "Joghurt mit MÃ¼sli",
            amount: "200 g Joghurt (1,5 %), 40 g MÃ¼sli, 1 kleine Banane",
            kcal: 480
          },
          {
            type: "Mittag",
            title: "Lachs mit Reis & Spinat",
            amount: "120 g Lachs, 70 g Reis (roh), 150 g Spinat, 1 TL Ã–l",
            kcal: 720
          },
          {
            type: "Abendessen",
            title: "GemÃ¼seomelette",
            amount: "2 Eier, 1 EiweiÃŸ, 150 g GemÃ¼se",
            kcal: 380
          }
        ]
      },
      {
        name: "Samstag",
        meals: [
          {
            type: "FrÃ¼hstÃ¼ck",
            title: "Protein-Pancakes",
            amount: "50 g Haferflocken, 150 g Magerquark, 1 Ei, etwas SÃ¼ÃŸe",
            kcal: 500
          },
          {
            type: "Mittag",
            title: "Burrito-Bowl",
            amount: "70 g Reis (roh), Bohnen, Mais, HÃ¤hnchen 120 g, Salsa",
            kcal: 760
          },
          {
            type: "Abendessen",
            title: "Thunfisch- oder HÃ¤hnchensalat",
            amount: "150 g Salat, 100 g HÃ¤hnchen oder Thunfisch, 1 EL Ã–l",
            kcal: 430
          }
        ]
      },
      {
        name: "Sonntag",
        meals: [
          {
            type: "FrÃ¼hstÃ¼ck",
            title: "BrÃ¶tchen light",
            amount: "1 VollkornbrÃ¶tchen, 20 g FrischkÃ¤se light, Pute, GemÃ¼se",
            kcal: 430
          },
          {
            type: "Mittag",
            title: "HÃ¤hnchen-Nudelpfanne",
            amount: "80 g Vollkornnudeln (roh), 120 g HÃ¤hnchen, 150 g GemÃ¼se, 1 TL Ã–l",
            kcal: 720
          },
          {
            type: "Abendessen",
            title: "Skyr mit Beeren",
            amount: "250 g Skyr, 100 g Beeren",
            kcal: 330
          }
        ]
      }
    ];

    // 10 Wochen mit derselben Basiswoche
    const weeks = Array.from({ length: 10 }, (_, i) => ({
      weekNumber: i + 1,
      days: baseWeekDays
    }));

    // Einkaufslisten â€“ Richtwerte pro Woche fÃ¼r 1 Person
    const baseShopping = [
      "Haferflocken: ~500 g",
      "Vollkornbrot / -brÃ¶tchen: 1â€“2 Packungen",
      "Reis & Vollkornnudeln: je ~500 g",
      "Kartoffeln: ~1,5 kg",
      "Magerquark / Skyr / Joghurt: ~3â€“4 kg gesamt",
      "HÃ¤hnchenbrust: ~1,2â€“1,5 kg",
      "Mageres Rinderhack: ~300 g",
      "Lachs: ~300â€“400 g",
      "Thunfisch in Dosen: 2â€“3 Dosen",
      "Eier: 10â€“12 StÃ¼ck",
      "Gemischtes GemÃ¼se (frisch/TK): 3â€“4 kg",
      "Blattsalat / Tomaten / Gurken / Paprika",
      "Bohnen & Mais (Dose oder TK)",
      "Obst (Ã„pfel, Bananen, Beeren): ~2â€“3 kg",
      "NÃ¼sse / Kerne: 100â€“150 g",
      "Pesto, Ã–l, GewÃ¼rze, KrÃ¤uter"
    ];

    const shoppingByWeek = Array.from({ length: 10 }, () => baseShopping);

    // -----------------------------
    // Rendering Plan
    // -----------------------------

    function initWeekSelects() {
      const weekSelect = document.getElementById("weekSelect");
      const shoppingWeekSelect = document.getElementById("shoppingWeekSelect");

      weeks.forEach((w, idx) => {
        const opt1 = document.createElement("option");
        opt1.value = idx;
        opt1.textContent = `Woche ${w.weekNumber}`;
        weekSelect.appendChild(opt1);

        const opt2 = document.createElement("option");
        opt2.value = idx;
        opt2.textContent = `Woche ${w.weekNumber}`;
        shoppingWeekSelect.appendChild(opt2);
      });
    }

    function calcDayKcal(day) {
      return day.meals.reduce((sum, m) => sum + m.kcal, 0);
    }

    function calcWeekKcal(week) {
      return week.days.reduce((sum, d) => sum + calcDayKcal(d), 0);
    }

    function renderWeek() {
      const weekIndex = parseInt(document.getElementById("weekSelect").value, 10);
      const week = weeks[weekIndex];
      const container = document.getElementById("daysContainer");
      const weekTotal = calcWeekKcal(week);

      document.getElementById("weekKcalLabel").textContent =
        `~${Math.round(weekTotal / 10) * 10} kcal/Woche (~${Math.round(weekTotal / 7)} kcal/Tag)`;

      container.innerHTML = "";

      week.days.forEach(day => {
        const dayDiv = document.createElement("div");
        dayDiv.className = "card day-card";

        const dayKcal = calcDayKcal(day);

        let mealsHtml = "";
        day.meals.forEach(meal => {
          mealsHtml += `
            <div class="meal">
              <div class="meal-header">
                <span class="meal-type">${meal.type}</span>
                <span class="meal-kcal">${meal.kcal} kcal</span>
              </div>
              <div class="meal-title">${meal.title}</div>
              <div class="meal-amount">${meal.amount}</div>
            </div>
          `;
        });

        dayDiv.innerHTML = `
          <div class="row">
            <div class="day-title">${day.name}</div>
            <div class="chip"><strong>${dayKcal}</strong> kcal / Tag</div>
          </div>
          ${mealsHtml}
        `;

        container.appendChild(dayDiv);
      });
    }

    // -----------------------------
    // Einkaufslisten
    // -----------------------------

    function renderShopping() {
      const weekIndex = parseInt(document.getElementById("shoppingWeekSelect").value, 10);
      const list = shoppingByWeek[weekIndex];
      const container = document.getElementById("shoppingList");

      document.getElementById("shoppingWeekLabel").textContent =
        `Woche ${weekIndex + 1}`;

      container.innerHTML = list
        .map(item => `<div class="shopping-item">â€¢ ${item}</div>`)
        .join("");
    }

    // -----------------------------
    // Gewicht
    // -----------------------------

    function saveWeight() {
      const date = document.getElementById("weightDate").value;
      const kg = parseFloat(document.getElementById("weightNumber").value.replace(",", "."));

      if (!date || isNaN(kg)) {
        alert("Bitte Datum und Gewicht eingeben.");
        return;
      }

      const data = JSON.parse(localStorage.getItem("weights") || "[]");
      const existing = data.find(x => x.date === date);

      if (existing) {
        existing.weight = kg;
      } else {
        data.push({ date, weight: kg });
      }

      localStorage.setItem("weights", JSON.stringify(data));
      renderWeights();
      document.getElementById("weightNumber").value = "";
    }

    function renderWeights() {
      const container = document.getElementById("weightHistory");
      const data = JSON.parse(localStorage.getItem("weights") || "[]")
        .sort((a, b) => a.date.localeCompare(b.date));

      if (data.length === 0) {
        container.innerHTML = "<p>Noch keine EintrÃ¤ge.</p>";
        return;
      }

      container.innerHTML = data.map(entry =>
        `<div class="weight-item">${entry.date}: <strong>${entry.weight.toFixed(1)} kg</strong></div>`
      ).join("");
    }

    // -----------------------------
    // Tabs
    // -----------------------------

    function switchTab(tab) {
      document.getElementById("view-plan").style.display = tab === "plan" ? "" : "none";
      document.getElementById("view-shopping").style.display = tab === "shopping" ? "" : "none";
      document.getElementById("view-weight").style.display = tab === "weight" ? "" : "none";

      document.getElementById("tab-plan").classList.toggle("active", tab === "plan");
      document.getElementById("tab-shopping").classList.toggle("active", tab === "shopping");
      document.getElementById("tab-weight").classList.toggle("active", tab === "weight");
    }

    // -----------------------------
    // Init
    // -----------------------------

    initWeekSelects();
    renderWeek();
    renderShopping();
    renderWeights();
  </script>
</body>
</html>
