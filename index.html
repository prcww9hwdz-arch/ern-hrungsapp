<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>10-Wochen Ern√§hrungsplan</title>
    <style>
        :root {
            color-scheme: dark;
        }
        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            background: #050608;
            color: #f5f5f5;
            margin: 0;
            padding: 16px;
        }
        h1 {
            margin-top: 0;
            text-align: center;
            color: #4CAF50;
            font-size: 1.4rem;
        }
        h2 {
            font-size: 1.1rem;
            margin: 0 0 8px;
            color: #eee;
        }
        .card {
            background: #14151a;
            border-radius: 12px;
            padding: 14px;
            margin-bottom: 14px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.4);
        }
        label {
            font-size: 0.85rem;
            color: #ccc;
        }
        select, input[type="date"], input[type="number"] {
            width: 100%;
            margin-top: 6px;
            margin-bottom: 10px;
            padding: 8px 10px;
            border-radius: 8px;
            border: 1px solid #333;
            background: #1f2027;
            color: #f5f5f5;
            font-size: 0.9rem;
        }
        select:focus, input:focus {
            outline: none;
            border-color: #4CAF50;
        }
        .meal-item, .shopping-item, .weight-item {
            padding: 6px 0;
            border-bottom: 1px solid #23242c;
            font-size: 0.9rem;
        }
        .meal-item:last-child,
        .shopping-item:last-child,
        .weight-item:last-child {
            border-bottom: none;
        }
        .pill {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 999px;
            font-size: 0.75rem;
            background: #263238;
            color: #b0bec5;
            margin-bottom: 6px;
        }
        button {
            background: #4CAF50;
            color: #fff;
            border: none;
            border-radius: 999px;
            padding: 8px 14px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-top: 6px;
        }
        button:active {
            transform: scale(0.98);
        }
        .small {
            font-size: 0.8rem;
            color: #9e9e9e;
        }
        .flex-row {
            display: flex;
            gap: 8px;
        }
        .flex-row > div {
            flex: 1;
        }
    </style>
</head>
<body>

<h1>10-Wochen Abnehm-Ern√§hrungsplan</h1>

<div class="card">
    <h2>Plan ausw√§hlen</h2>
    <div class="flex-row">
        <div>
            <label for="weekSelect">Woche</label>
            <select id="weekSelect"></select>
        </div>
        <div>
            <label for="daySelect">Tag</label>
            <select id="daySelect"></select>
        </div>
    </div>
    <div class="small">
        Ziel: ca. 1.750‚Äì1.900&nbsp;kcal/Tag, 3 Mahlzeiten, satt & alltagstauglich.<br>
        Du kannst Tage innerhalb der Woche tauschen ‚Äì Hauptsache, du bleibst ungef√§hr im Rahmen.
    </div>
</div>

<div class="card">
    <h2>Heutige Mahlzeiten</h2>
    <div id="mealList"></div>
</div>

<div class="card">
    <h2>Einkaufsliste (Woche)</h2>
    <div class="small">Alle Zutaten f√ºr die ausgew√§hlte Woche (f√ºr 1 Person, bei Bedarf hochrechnen).</div>
    <div id="shoppingList"></div>
</div>

<div class="card">
    <h2>Gewicht tracken</h2>
    <div class="flex-row">
        <div>
            <label for="weightDate">Datum</label>
            <input type="date" id="weightDate">
        </div>
        <div>
            <label for="weightNumber">Gewicht (kg)</label>
            <input type="number" id="weightNumber" step="0.1" placeholder="z.B. 96.3">
        </div>
    </div>
    <button id="saveWeightBtn">Speichern</button>
    <div class="small" style="margin-top:8px;">
        Tipp: 1√ó pro Woche morgens nach dem Aufstehen wiegen, ohne Kleidung.
    </div>
    <h3 style="margin-top:14px;font-size:0.95rem;">Verlauf</h3>
    <div id="weightHistory"></div>
</div>

<script>
// =============================
// Daten: 10 Wochen, 7 Tage, 3 Mahlzeiten
// =============================

const dayNames = ["Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sonntag"];

// F√ºr jede Woche ein Plan mit 7 Tagen
// Du kannst Texte jederzeit √§ndern, der Code bleibt gleich.
const plan = [
    // Woche 1
    {
        days: [
            { b: "Overnight Oats mit Beeren & Skyr", l: "H√§hnchen, Vollkornreis & Brokkoli", d: "Gem√ºsepfanne mit Feta" },
            { b: "Vollkornbrot mit Putenbrust & Gurke", l: "Thunfisch-Reis-Bowl", d: "Gemischter Salat mit Ei" },
            { b: "R√ºhrei (2‚Äì3 Eier) + Tomaten", l: "Vollkornnudeln mit Tomatensauce & Parmesan", d: "Magerquark mit Beeren & N√ºssen" },
            { b: "Skyr mit Apfel & Zimt", l: "Kartoffeln mit Kr√§uterquark & Karotten", d: "H√§hnchenstreifen auf Salat" },
            { b: "Haferflocken mit Banane & Erdnussmus", l: "Putenwrap (Vollkorn) mit Gem√ºse", d: "Gem√ºseomelette" },
            { b: "Proteinshake + Obst", l: "Lachs, Kartoffeln & Spinat", d: "Rohkostteller mit Hummus" },
            { b: "Magerquark mit M√ºsli (zuckerarm)", l: "Reispfanne mit Gem√ºse & Ei", d: "Tomaten-Mozzarella-Salat" }
        ],
        shopping: [
            "Haferflocken", "Skyr/Magerquark", "Beeren (TK oder frisch)", "Bananen", "√Ñpfel", "Tomaten", "Gurke",
            "Karotten", "Paprika", "Brokkoli", "Blattsalat/Salatmischung", "Spinat (TK)", "Kartoffeln", "Vollkornreis",
            "Vollkornnudeln", "Vollkornbrot", "Vollkorn-Wraps",
            "H√§hnchenbrust", "Putenbrust", "Lachs (TK oder frisch)", "Eier",
            "Thunfisch in Wasser", "H√ºttenk√§se/Quark", "Feta", "Mozzarella light",
            "Hummus", "Oliven√∂l", "N√ºsse (Mandeln/Waln√ºsse)", "Erdnussmus (100 % Erdnuss)",
            "Gew√ºrze, Kr√§uter, Salz, Pfeffer"
        ]
    },
    // Woche 2
    {
        days: [
            { b: "Joghurt (mager) mit Beeren & Hafer", l: "H√§hnchen-Curry mit Reis & Gem√ºse", d: "Ofengem√ºse mit Feta" },
            { b: "Vollkorntoast mit R√ºhrei & Spinat", l: "Linsensuppe mit Vollkornbrot", d: "Thunfischsalat" },
            { b: "Protein-Pancakes (Hafer + Ei)", l: "Putenstreifen mit Couscous & Gem√ºse", d: "Gr√ºner Salat mit Kichererbsen" },
            { b: "Magerquark mit Kiwi & N√ºssen", l: "Vollkornnudeln mit Pesto & Tomaten", d: "Gem√ºsepfanne mit Ei" },
            { b: "Overnight Oats mit Apfel & Zimt", l: "Burrito-Bowl mit H√§hnchen", d: "Tomatensuppe mit K√§se-Topping" },
            { b: "Skyr mit Banane", l: "Lachs-Bowl (Reis, Spinat, Gurke)", d: "Gem√ºseteller + Hummus" },
            { b: "R√ºhrei + Vollkornbrot", l: "Kartoffel-Lauch-Pfanne mit Pute", d: "Joghurt mit Beeren" }
        ],
        shopping: [
            "Joghurt mager", "Skyr", "Magerquark", "Haferflocken", "Couscous", "Linsen", "Kichererbsen (Dose)",
            "Reis", "Vollkornnudeln", "Vollkorntoast/-brot", "Putenbrust", "H√§hnchenbrust", "Lachs",
            "Feta", "Hartk√§se light", "Tomaten", "Gurke", "Paprika", "Lauch", "Spinat", "Kiwi", "Bananen", "√Ñpfel",
            "TK-Gem√ºse nach Wahl", "Tomatensauce", "Pesto (basilikum)", "Hummus", "Gew√ºrze (Curry, Paprika, Knoblauch)"
        ]
    },
    // Woche 3
    {
        days: [
            { b: "Haferbrei mit Banane & Zimt", l: "H√§hnchen-Reis-Pfanne mit Gem√ºse", d: "Salat mit Ei & Mais" },
            { b: "Skyr mit Beeren & Leinsamen", l: "Vollkornwrap mit Thunfisch & Gem√ºse", d: "Gem√ºseomelette" },
            { b: "Vollkornbrot mit Frischk√§se & Pute", l: "Lachs mit S√º√ükartoffel & Bohnen", d: "Quark mit Obst" },
            { b: "Proteinshake + Apfel", l: "Pasta mit Tomatensauce & Rinderhack mager", d: "Rohkost mit Dip" },
            { b: "Joghurt + M√ºsli (zuckerarm)", l: "Kartoffelauflauf light mit Brokkoli", d: "Salat mit Pute" },
            { b: "R√ºhrei & Spinat", l: "Burrito-Wrap mit Bohnen & Reis", d: "Joghurt mit N√ºssen" },
            { b: "Magerquark, Beeren, Honig (wenig)", l: "Gem√ºsesuppe mit Vollkornbrot", d: "Kleiner Proteinsnack (Quark/Shake)" }
        ],
        shopping: [
            "Haferflocken", "Leinsamen", "M√ºsli (zuckerarm)", "S√º√ükartoffeln", "Mais (Dose)", "Bohnen (Dose)",
            "Rinderhack mager", "Frischk√§se light", "Putenbrust", "H√§hnchenbrust", "Lachs",
            "Eier", "Joghurt", "Quark", "Skyr", "Bananen", "√Ñpfel", "Beeren", "Paprika", "Tomaten", "Gurke",
            "Brokkoli", "Spinat", "Salatmischung", "Vollkornnudeln", "Vollkornbrot", "Vollkorn-Wraps"
        ]
    },
    // Woche 4
    {
        days: [
            { b: "Overnight Oats mit Beeren", l: "H√§hnchen-Gem√ºse-Bowl mit Reis", d: "Tomaten-Mozzarella-Salat" },
            { b: "R√ºhrei + Vollkorntoast", l: "Thunfisch-Pasta", d: "Gem√ºsesuppe" },
            { b: "Skyr mit Apfel & Zimt", l: "Kartoffeln, Quark & Kr√§uter", d: "Gem√ºsepfanne mit Ei" },
            { b: "Protein-Pancakes", l: "Putenbrust mit Couscous & Gem√ºse", d: "Salat mit Feta" },
            { b: "Magerquark + Banane + N√ºsse", l: "Lachs mit Reis & Brokkoli", d: "Rohkostteller" },
            { b: "Joghurt + M√ºsli", l: "H√§hnchen-Wraps", d: "Gem√ºseomelette" },
            { b: "Haferflocken mit Obst", l: "Burrito-Bowl", d: "Quark mit Beeren" }
        ],
        shopping: [
            "wie Woche 1/2 ‚Äì Hafer, Joghurt, Quark, Skyr, Pute, H√§hnchen, Lachs, Reis, Couscous, Kartoffeln, Gem√ºse, Salat, Feta, Mozzarella, Wraps"
        ]
    },
    // Wochen 5‚Äì10 etwas knapper (Rotation √§hnlicher Gerichte)
    {
        days: [
            { b: "Haferbrei mit Apfel", l: "H√§hnchen-Reis-Bowl", d: "Gem√ºsespie√üe mit Feta" },
            { b: "Skyr + Beeren", l: "Thunfischsalat mit Brot", d: "Omelette" },
            { b: "Joghurt + M√ºsli", l: "Putenwrap", d: "Gem√ºsesuppe" },
            { b: "R√ºhrei + Toast", l: "Lachs + Kartoffeln", d: "Salat mit Bohnen" },
            { b: "Overnight Oats", l: "Burrito-Bowl", d: "Quark + Obst" },
            { b: "Proteinshake + Obst", l: "Vollkornpasta + Tomatensauce", d: "Rohkostteller" },
            { b: "Quark + Beeren", l: "Reispfanne mit Gem√ºse", d: "Joghurt + N√ºsse" }
        ],
        shopping: ["Haferflocken, Milch/Haferdrink, Joghurt, Quark, Skyr, H√§hnchen, Pute, Lachs, Thunfisch, Eier, Brot, Reis, Pasta, Kartoffeln, viel Gem√ºse, Salat, Bohnen, N√ºsse"]
    },
    {
        days: [
            { b: "Magerquark + Banane", l: "H√§hnchen-Curry mit Reis", d: "Gem√ºsepfanne" },
            { b: "Joghurt + Beeren", l: "Linsensuppe", d: "Salat mit Ei" },
            { b: "Haferbrei", l: "Thunfisch-Bowl", d: "Gem√ºseomelette" },
            { b: "Skyr + Obst", l: "Putenbrust + Couscous", d: "Rohkost" },
            { b: "R√ºhrei + Brot", l: "Lachs-Bowl", d: "Quark + Obst" },
            { b: "Overnight Oats", l: "Burrito-Bowl", d: "Gem√ºsesuppe" },
            { b: "Protein-Pancakes", l: "Reispfanne", d: "Joghurt + N√ºsse" }
        ],
        shopping: ["wie Woche 2 ‚Äì H√ºlsenfr√ºchte, Reis, Couscous, Gefl√ºgel, Lachs, Milchprodukte, Gem√ºse, Salat"]
    },
    {
        days: [
            { b: "Haferbrei + Beeren", l: "H√§hnchen + Kartoffeln", d: "Salat" },
            { b: "Joghurt + M√ºsli", l: "Thunfisch-Wrap", d: "Rohkost" },
            { b: "Skyr + Banane", l: "Vollkornpasta Bolognese light", d: "Quark" },
            { b: "R√ºhrei", l: "Puten-Reis-Pfanne", d: "Gem√ºsesuppe" },
            { b: "Overnight Oats", l: "Lachs + S√º√ükartoffel", d: "Salat mit Feta" },
            { b: "Proteinshake + Obst", l: "Burrito-Bowl", d: "Gem√ºseomelette" },
            { b: "Quark + Beeren", l: "Reispfanne", d: "Joghurt" }
        ],
        shopping: ["Standard-Zutaten wie bisher ‚Äì du bist jetzt in der Routine üòâ"]
    },
    {
        days: [
            { b: "Haferbrei", l: "H√§hnchen-Bowl", d: "Gem√ºsepfanne" },
            { b: "Skyr + Obst", l: "Thunfischsalat", d: "R√ºhrei" },
            { b: "Joghurt + M√ºsli", l: "Putenwrap", d: "Gem√ºsesuppe" },
            { b: "Quark + Beeren", l: "Lachs + Reis", d: "Salat" },
            { b: "Overnight Oats", l: "Linsen-Curry", d: "Rohkost" },
            { b: "R√ºhrei + Brot", l: "Reispfanne", d: "Joghurt + N√ºsse" },
            { b: "Protein-Pancakes", l: "Burrito-Bowl", d: "Quark" }
        ],
        shopping: ["wie vorher ‚Äì Fokus auf mageres Eiwei√ü, Vollkorn, Gem√ºse"]
    },
    {
        days: [
            { b: "Haferflocken + Skyr", l: "H√§hnchen-Reis-Pfanne", d: "Gemischter Salat" },
            { b: "Joghurt + Obst", l: "Thunfisch-Pasta", d: "Gem√ºseomelette" },
            { b: "R√ºhrei + Toast", l: "Puten-Couscous", d: "Quark + Beeren" },
            { b: "Overnight Oats", l: "Lachs + Kartoffeln", d: "Rohkost" },
            { b: "Skyr + Banane", l: "Burrito-Bowl", d: "Salat" },
            { b: "Quark + M√ºsli", l: "Reispfanne", d: "Joghurt + N√ºsse" },
            { b: "Proteinshake", l: "Gem√ºsesuppe + Brot", d: "Kleiner Snack (Quark/Obst)" }
        ],
        shopping: ["wie Woche 1 ‚Äì klassischer Mix zum Abschluss der 10 Wochen"]
    },
    {
        days: [
            { b: "Haferbrei + Beeren", l: "H√§hnchen-Bowl", d: "Gem√ºsepfanne" },
            { b: "Joghurt + M√ºsli", l: "Thunfischsalat", d: "R√ºhrei" },
            { b: "Skyr + Obst", l: "Puten-Wrap", d: "Gem√ºsesuppe" },
            { b: "Quark + Banane", l: "Lachs + Reis", d: "Salat" },
            { b: "Overnight Oats", l: "Linsen-Curry", d: "Rohkost" },
            { b: "Protein-Pancakes", l: "Reispfanne", d: "Joghurt + N√ºsse" },
            { b: "Magerquark + Beeren", l: "Burrito-Bowl", d: "leichter Salat" }
        ],
        shopping: ["gleiche Basis-Lebensmittel wie zuvor ‚Äì damit kannst du danach einfach weitermachen"]
    }
];

// =============================
// UI initialisieren
// =============================

const weekSelect = document.getElementById("weekSelect");
const daySelect = document.getElementById("daySelect");
const mealList = document.getElementById("mealList");
const shoppingList = document.getElementById("shoppingList");

function initWeekSelect() {
    plan.forEach((_, i) => {
        const opt = document.createElement("option");
        opt.value = i;
        opt.textContent = `Woche ${i + 1}`;
        weekSelect.appendChild(opt);
    });
}

function initDaySelect(weekIndex) {
    daySelect.innerHTML = "";
    const week = plan[weekIndex];
    week.days.forEach((_, i) => {
        const opt = document.createElement("option");
        opt.value = i;
        opt.textContent = dayNames[i];
        daySelect.appendChild(opt);
    });
}

function renderMeals() {
    const w = parseInt(weekSelect.value, 10);
    const d = parseInt(daySelect.value, 10);
    const day = plan[w].days[d];

    mealList.innerHTML = `
        <div class="meal-item"><span class="pill">Fr√ºhst√ºck</span><br>${day.b}</div>
        <div class="meal-item"><span class="pill">Mittagessen</span><br>${day.l}</div>
        <div class="meal-item"><span class="pill">Abendessen</span><br>${day.d}</div>
    `;
}

function renderShopping() {
    const w = parseInt(weekSelect.value, 10);
    const items = plan[w].shopping;
    shoppingList.innerHTML = items
        .map(i => `<div class="shopping-item">‚Ä¢ ${i}</div>`)
        .join("");
}

// =============================
// Gewicht-Tracking (LocalStorage)
// =============================

const weightDateInput = document.getElementById("weightDate");
const weightNumberInput = document.getElementById("weightNumber");
const weightHistoryDiv = document.getElementById("weightHistory");
const saveWeightBtn = document.getElementById("saveWeightBtn");

function loadWeights() {
    try {
        return JSON.parse(localStorage.getItem("weights_97to90") || "[]");
    } catch {
        return [];
    }
}

function saveWeights(list) {
    localStorage.setItem("weights_97to90", JSON.stringify(list));
}

function renderWeights() {
    const data = loadWeights().sort((a,b) => a.date.localeCompare(b.date));
    if (!data.length) {
        weightHistoryDiv.innerHTML = "<div class='small'>Noch keine Eintr√§ge.</div>";
        return;
    }
    weightHistoryDiv.innerHTML = data
        .map(e => `<div class="weight-item">${e.date}: <strong>${e.weight} kg</strong></div>`)
        .join("");
}

saveWeightBtn.addEventListener("click", () => {
    const date = weightDateInput.value;
    const weight = weightNumberInput.value.replace(",", ".");
    if (!date || !weight) {
        alert("Bitte Datum und Gewicht eingeben.");
        return;
    }
    const n = parseFloat(weight);
    if (Number.isNaN(n)) {
        alert("Gewicht ist keine Zahl.");
        return;
    }
    const list = loadWeights();
    const existing = list.find(e => e.date === date);
    if (existing) existing.weight = n;
    else list.push({ date, weight: n });
    saveWeights(list);
    weightNumberInput.value = "";
    renderWeights();
});

// =============================
// Init
// =============================

initWeekSelect();
initDaySelect(0);
weekSelect.value = "0";
daySelect.value = "0";
renderMeals();
renderShopping();
renderWeights();

weekSelect.addEventListener("change", () => {
    initDaySelect(parseInt(weekSelect.value, 10));
    daySelect.value = "0";
    renderMeals();
    renderShopping();
});

daySelect.addEventListener("change", renderMeals);
</script>
</body>
</html>
